# Docker Logs API
#
# Simple HTTP API for reading logs Docker containers.
# Available to all containers without additional configuration.
#
# INSTALLATION:
#   cd docker-logs-api && docker compose up -d --build
#
# USE from any container:
#   curl http://host.docker.internal:9999/containers
#   curl http://host.docker.internal:9999/logs/container_name
#   curl http://host.docker.internal:9999/logs/container_name?tail=100
#   curl http://host.docker.internal:9999/logs/container_name?since=1h

services:
  docker-logs-api:
    build: .
    container_name: docker_logs_api
    restart: always
    ports:
      # Available on the host, which means through host.docker.internal for all containers
      - "9999:9999"
    volumes:
      # Read only Docker socket
      - /var/run/docker.sock:/var/run/docker.sock:ro
    environment:
      - PYTHONUNBUFFERED=1
